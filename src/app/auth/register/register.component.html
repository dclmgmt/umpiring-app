<p>Registration</p>
<div class="example-container mat-elevation-z8">
  <div class="example-loading-shade"
       *ngIf="isLoadingResults">
    <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
  </div>
  <mat-card class="example-card">
    <form [formGroup]="registerForm" (ngSubmit)="onFormSubmit(registerForm.value)">
      <mat-form-field class="example-full-width">
        <input matInput type="fullName" placeholder="Full Name" formControlName="fullName"
                [errorStateMatcher]="matcher">
        <mat-error>
          <span *ngIf="!registerForm.get('fullName').valid && registerForm.get('fullName').touched">Please enter your Full Name</span>
        </mat-error>
      </mat-form-field>
      <mat-form-field class="example-full-width">
        <input matInput type="email" placeholder="Email" formControlName="email"
               [errorStateMatcher]="matcher">
        <mat-error>
          <span *ngIf="!registerForm.get('email').valid && registerForm.get('email').touched">Please enter your email</span>
        </mat-error>
      </mat-form-field>
      <mat-form-field class="example-full-width">
          <input matInput type="fullName" placeholder="Password" formControlName="password"
                 [errorStateMatcher]="matcher">
          <mat-error>
            <span *ngIf="!registerForm.get('password').valid && registerForm.get('password').touched">Please enter your password</span>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="example-full-width">
            <input matInput type="payPalId" placeholder="Paypal Id" formControlName="payPalId"
                    [errorStateMatcher]="matcher">
            <mat-error>
              <span *ngIf="!registerForm.get('payPalId').valid && registerForm.get('payPalId').touched">Please enter your Paypal Id</span>
            </mat-error>
          </mat-form-field>
        <mat-form-field class="example-full-width">
            <input matInput type="fullName" placeholder="Certified" formControlName="certified"
            >
            <mat-checkbox formControlName="certified">Certified!</mat-checkbox>
        </mat-form-field>
      <mat-form-field class="example-full-width">
          <input matInput   [errorStateMatcher]="matcher"
          placeholder="Phone Number" type="phone"  pattern="^\d{10}$"
          formControlName="phoneNumber"  >
            <mat-error>
                <span *ngIf="(!registerForm.get('phoneNumber').valid && registerForm.get('phoneNumber').touched) || registerForm.get('phoneNumber').hasError('pattern')">Phone mumber is required and should be 10 digits long</span>
              </mat-error>
        </mat-form-field>
      <mat-form-field class="example-full-width">
          <mat-select type="fullName" placeholder="Role" formControlName="roleId" >
          <mat-option *ngFor="let role of roles" [value]="role.value">
            {{role.viewValue}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field class="example-full-width">
          <mat-select type="depositPayment" placeholder="Deposit Payment" formControlName="paymentMethodId" >
          <mat-option *ngFor="let paymentMethod of paymentMethods" [value]="paymentMethod.value"         >
            {{paymentMethod.viewValue}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field class="example-full-width">
          <input matInput type="teamNames" placeholder="Team Names" formControlName="teamNames"
               [errorStateMatcher]="matcher">
          <div *ngFor="let teamName of teamNames; let i = index">
              <mat-checkbox class="example-margin"
              (change)="onChange($event, i, teamName)" [checked]="registerForm.get('teamNames').value.indexOf(teamName) > -1"
              >
              {{teamName}}
            </mat-checkbox>
          </div>
      </mat-form-field>


      <div class="button-row">
        <button type="submit" [disabled]="!registerForm.valid" mat-flat-button color="primary">Register</button>
      </div>
    </form>
  </mat-card>
</div>
